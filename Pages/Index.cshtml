@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";

    var substitutionCollapse = "substitutionCollapse";
    var listButton = "list-group-item list-group-item-action";
    var noSelectStyle = "style=\"-ms-user-select: none; user-select: none; -moz-user-select: none; -webkit-user-select: none;\"";
}

@section Headers {
    <button type="button" class="btn btn-primary" data-toggle="collapse" href="#@substitutionCollapse" style="padding: 1px;">Substitution</button>
}

<div class="container-fluid">
    <div class="row">
        <div class="col">
            <div class="input-group">
                <div class="input-group-prepend">
                    <span class="input-group-text">I:</span>
                </div>
                <textarea class="form-control" type="text" data-bind="value: input, valueUpdate: 'afterkeydown'" style="height:250px;"></textarea>
            </div>
        </div>
        <div class="col">
            <div class="input-group">
                <div class="input-group-prepend">
                    <span class="input-group-text">O:</span>
                </div>
                <textarea class="form-control" type="text" data-bind="value: global.outputGlobal" style="height:250px;"></textarea>
            </div>
        </div>
    </div>
    <div class="collapse" id="@substitutionCollapse" style="transition-duration: 0.05s;">
        <div class="row">
            <div class="col">
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text">O:</span>
                    </div>
                    <textarea class="form-control" type="text" data-bind="value: subst.output" style="height:250px;"></textarea>
                </div>
            </div>
            <div class="col-sm-auto">
                <div class="list-group">
                    <a data-bind="css: subst.letterToNumberActive, click: utility.toggler.bind($data, subst.letterToNumberActive)" class="@listButton active" @Html.Raw(noSelectStyle)>A1 - Z26</a>
                    <a data-bind="css: subst.rotate13Active, click: utility.toggler.bind($data, subst.rotate13Active)" class="@listButton active" @Html.Raw(noSelectStyle)>Rotate</a>
                </div>
                <input data-bind="value: subst.rotateValue, valueUpdate: 'afterkeydown'" />
                <div class="list-group">
                    <a data-bind="css: subst.aciiActive, click: utility.toggler.bind($data, subst.aciiActive)" class="@listButton active" @Html.Raw(noSelectStyle)>ASCII</a>
                </div>

                <div class="row">
                    <div class="col-sm-auto">
                        Delimiter:
                        <input data-bind="value: subst.delimiter, valueUpdate: 'afterkeydown'" style="width: 80px;" />
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col">
            More
        </div>
        <div class="col">
            In
        </div>
        <div class="col">
            Progress
        </div>
    </div>
</div>

@section Scripts {
    <script type="text/javascript" src="~/Lib/requirejs-2.3.6/require.js"></script>
    <script type="text/javascript" src="~/scripts/require-config.js"></script>
    <script type="text/javascript">require(["scripts/app"])</script>
}